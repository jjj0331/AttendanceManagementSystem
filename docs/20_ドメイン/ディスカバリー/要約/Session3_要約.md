# セッション3 要約 - 外部システム連携・統合

## 概要

**目的**: 外部システム連携、コンテキスト境界の確認、最終品質チェック
**達成度**: 95%

---

## 外部システム連携

| システム | 方向 | 内容 | SLA |
|---------|------|------|-----|
| 給与システム | 出力 | 月次締め後CSV（勤務日数、残業時間、有給消化日数等） | 締め翌営業日中 |
| Google Workspace | 出力 | SSO認証 + カレンダーへの休暇予定プッシュ | リアルタイム |
| Slack | 出力 | アラート通知（36協定、承認リマインド、打刻忘れ） | リアルタイム |

### 責任分界点

- 勤怠システムがデータのマスター
- カレンダー同期は一方向プッシュ（勤怠→カレンダー）
- 給与システム連携はCSVファイル渡し（将来API化検討）

---

## コンテキスト境界

| コンテキスト | 種別 | 主な集約 |
|-------------|------|---------|
| 勤怠管理 | コア | 勤怠記録、シフト |
| 申請承認 | コア | 残業申請、休暇申請、打刻修正申請 |
| 休暇管理 | コア | 有給残高、休暇付与 |
| 月次処理 | 支援 | 月次締め |
| 通知 | 汎用 | 通知 |

### コンテキスト間連携

| From | To | データ/イベント |
|------|----|---------------|
| 勤怠管理 | 月次処理 | 勤怠記録（確定前データ） |
| 申請承認 | 勤怠管理 | 承認結果（打刻修正、残業確定） |
| 申請承認 | 休暇管理 | 休暇承認結果 |
| 休暇管理 | 勤怠管理 | 休暇日の勤怠ステータス |
| 各コンテキスト | 通知 | 通知依頼イベント |

---

## 最終品質チェック

| 項目 | 達成度 | 判定 |
|------|--------|------|
| 基本業務フロー | 95% | ✅ |
| 例外処理 | 85% | ✅ |
| 業務ルール | 90% | ✅ |
| 外部システム連携 | 80% | ✅ |
| データ制約 | 85% | ✅ |
| ホットスポット | 0個 | ✅ |

---

## 次のPhaseへの引き継ぎ

- 5コンテキスト × 各集約のイベントストーミングを実施
- 申請承認コンテキストが勤怠管理・休暇管理をつなぐハブ的存在
- 給与連携の将来API化は Phase 3 以降で検討

<!-- 品質チェック結果
- [x] 外部システム3つの連携方向・内容・SLAが定義
- [x] 責任分界点が明確
- [x] コンテキスト5つの種別（コア/支援/汎用）が分類
- [x] コンテキスト間のデータフローが表形式で整理
- [x] 全品質基準が目標値を達成
-->
