# AI駆動開発ワークフロー メタ評価

> 作成日: 2026-02-09
> 背景: 勤怠管理システム（Kintai）を題材に Phase 0〜3.5 + design-review + estimate を実行した結果のメタ認知的評価

---

## 実施範囲

| Phase | スキル | 状態 |
|-------|--------|------|
| 0 | /project-overview | ✅ 完了 |
| 0.5 | /discovery-session | ✅ 完了 |
| 1 | /event-storming | ✅ 完了 |
| 2 | /domain-modeling ×8集約 | ✅ 完了 |
| 3 | /api-design, /db-design, /screen-design ×8集約 | ✅ 完了 |
| 3.5 | /cross-context-design | ✅ 完了 |
| — | /design-review ×2回 | ✅ 完了（541→553/600） |
| — | /estimate | ✅ 完了（433.2人日 / ¥17.3M） |
| 4 | /scaffold → 実装 | 未着手 |

---

## 評価できる点

### 1. 「スキル1発で成果物」のモデルが強い

`/command` 一つで設計書が出る体験は効果的。Phase 3 の並列実行（8集約同時）で設計書が一気に揃う点は特に生産性が高い。

### 2. design-review → 修正ループが機能した

- 第1回: 541/600（90.2%）、P0: 6件
- P0修正実施
- 第2回: 553/600（92.2%）、P0: 1件

設計段階で品質を定量的に可視化し、修正ループを回せた。実装前の手戻り防止として価値が高い。

### 3. estimate の自動化パイプラインが賢い

「LLMに算数させない」設計（calculate.py で全演算）は正しい判断。メトリクス抽出（LLM）→ 計算（Python）→ レポート生成（LLM）の責務分離が効いている。

### 4. 申し送りファイルでセッション断絶に耐える

`docs/.context/` のhandoffファイル + serenaメモリの併用で、コンテキストウィンドウ切れからの復帰が可能だった。実際に複数回のコンパクションを超えて作業を継続できた。

---

## 課題・改善点

### 1. コンテキストウィンドウとの戦い（最大のボトルネック）

8集約の並列レビューだけでトークンの大半を消費する。ワークフロー自体はスケールするが、1セッションで処理できる作業量に物理的限界がある。

**改善案**: スキル実行単位を明確にし「1セッション = 1〜2スキル実行」を推奨値としてガイドに追記する。

### 2. 品質ゲートが「存在するが強制されない」

ワークフローにチェックリストは定義されているが、実際は「スキルを実行したら次に進む」になりがち。ゲートが仕組みとして機能していない。

**改善案**: workflow-state.yaml にゲート通過記録を入れ、次スキルが前提チェックを自動で行う仕組みにする。

### 3. Phase 3 の成果物量が膨大

8集約 × (API + DB + 画面) = 24ドキュメント。人間がレビューしきれない量になる。design-review がカバーしてくれるが、「AIが作ってAIがレビュー」で人間が形骸化するリスクがある。

**改善案**: 集約ごとに「設計 → レビュー → 修正」を回してから次の集約に進むオプションを用意する。

### 4. 継続開発（/sync）が未検証

ワークフロー図では `Miro → Markdown → Code` の同期が描かれているが、今回は初期開発フローのみ実施。設計変更 → 同期 → コード更新のサイクルが実際に回るかは未知数。

### 5. Phase 4（実装）の解像度が低い

ワークフローの中で最も記述が薄い。`/scaffold` の後どうするかが「Miro + Markdown → コード生成」としか書かれていない。実装フェーズこそ構造化が必要。

**改善案**: 集約単位で「API実装 → テスト → 画面実装 → 結合テスト」のサブワークフローを定義する。

---

## 総合評価

| 観点 | 評価 | コメント |
|------|------|---------|
| 設計品質 | ⭐⭐⭐⭐ | 92.2%は十分。P0修正ループも回った |
| 自動化度 | ⭐⭐⭐⭐⭐ | スキル→成果物の変換は見事 |
| 人間の関与 | ⭐⭐⭐ | 戦略判断はできるが詳細レビューが追いつかない |
| スケーラビリティ | ⭐⭐⭐ | 8集約で限界が見えた（コンテキストウィンドウ） |
| 再現性 | ⭐⭐⭐⭐ | スキル定義が明確で他案件にも転用可能 |
| 実装への接続 | ⭐⭐ | Phase 4 が未検証。ここが本当の試練 |

---

## 結論

**設計フェーズの自動化としてはかなり完成度が高い。ただし本当の試練は Phase 4（実装）。**

433人日分の設計書を生成したが、それが実装でどれだけ活きるかはまだ証明されていない。設計書の価値は実装して初めて確定する。

### 次に検証すべきこと

1. **Phase 4 の実行** — 設計書からの実装がどれだけスムーズに進むか
2. **継続開発サイクル** — 設計変更時の /sync フローの実用性
3. **若手による実装** — 設計書の「読みやすさ・実装しやすさ」の実証
4. **見積もり精度の検証** — 実際の実装工数との乖離

---

## 関連ドキュメント

- [AI駆動開発ワークフロー](../../00_ガイド/AI駆動開発/ワークフロー.md)
- [見積もりレポート](../../80_見積もり/勤怠管理システム（Kintai）_見積もり_20260209.md)
- [design-review レポート](design-review-20260209-1436.md)
- [若手向け実装スコープ検討](若手向け実装スコープ検討_20260209.md)
