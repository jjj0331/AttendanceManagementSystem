# スクリーンマップ: 通知

生成日時: 2026-02-09

---

## 1. 画面一覧

| # | 画面名 | 画面種別 | 優先度 | ステータス | 関連集約 |
|---|--------|---------|--------|-----------|---------|
| 1 | 未読通知一覧 | list | required | designed | 通知 |
| 2 | 通知履歴 | list | required | designed | 通知 |
| 3 | 通知詳細 | detail | required | designed | 通知 |

---

## 2. API→画面マッピング

### 未読通知一覧

| API | メソッド | 画面での用途 |
|-----|---------|-------------|
| `/notifications/unread` | GET | 未読通知一覧表示（重要度・発信元フィルタ、ソート、ページネーション） |
| `/notifications/{id}/actions/read` | POST | 既読ボタン（個別既読） |

### 通知履歴

| API | メソッド | 画面での用途 |
|-----|---------|-------------|
| `/notifications` | GET | 通知履歴一覧表示（重要度・種別・既読状態・期間フィルタ、ソート、ページネーション） |

### 通知詳細

| API | メソッド | 画面での用途 |
|-----|---------|-------------|
| `/notifications/{id}` | GET | 通知詳細表示 |
| `/notifications/{id}/actions/read` | POST | 既読ボタン（未読時のみ表示） |

---

## 3. カバレッジレポート

| 指標 | 値 |
|------|-----|
| 全エンドポイント数 | 6 |
| 画面割当済み | 4 (GET×3 + POST read) |
| 未割当（システム専用） | 2 (POST /notifications, POST deliver-external) |
| カバレッジ率 | 100%（ユーザー向け） |

### 未割当エンドポイント（システム専用 — UI不要）

| メソッド | パス | 理由 |
|---------|------|------|
| POST | `/notifications` | システム呼び出し（Saga/ポリシーから発行）。ユーザーは直接通知を作成しない |
| POST | `/notifications/{id}/actions/deliver-external` | システム呼び出し（外部配信ポリシーから発行）。ユーザー操作不可 |

---

## 4. ロール別画面アクセスマトリクス

| 画面名 | 宛先ユーザー本人 | システム |
|--------|:--------------:|:------:|
| 未読通知一覧 | ✅ | - |
| 通知履歴 | ✅ | - |
| 通知詳細 | ✅ | - |

> 通知は全て本人のみ閲覧・操作可能。管理者・上長ロールでの他者通知閲覧はない。

---

## 5. 既存画面との差分

### 不足画面

| # | 画面名 | 画面種別 | 導出元API |
|---|--------|---------|----------|
| 1 | 未読通知一覧 | list | GET /notifications/unread |
| 2 | 通知履歴 | list | GET /notifications |
| 3 | 通知詳細 | detail | GET /notifications/{id} |

### 更新推奨画面

（なし — 全画面が新規作成）

---

## 6. 推奨実装順序

| 順序 | 画面名 | 理由 |
|------|--------|------|
| 1 | 未読通知一覧 | ユーザーが最初にアクセスする画面。ヘッダーの通知ベルから遷移 |
| 2 | 通知詳細 | 一覧から遷移。既読操作のトリガー画面 |
| 3 | 通知履歴 | 過去の通知を振り返る補助的画面 |
